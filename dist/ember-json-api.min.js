define("json-api-adapter",["exports"],function(e){"use strict";function t(e,t,r){this.status=e,this.message=t,this.xhr=r,this.stack=(new Error).stack}var r=Ember.get;DS._routes=Ember.create(null),DS.JsonApiAdapter=DS.RESTAdapter.extend({defaultSerializer:"DS/jsonApi",getRoute:function(e,t){return DS._routes[e+"."+t]||DS._routes[e]},buildURL:function(e,t,i){var a=this.getRoute(e,t,i);if(!a)return this._super(e,t,i);var n=[],s=r(this,"host"),o=this.urlPrefix(),l=/\{(.*?)\}/g;return n.push(t?l.test(a)?a.replace(l,t):a:a.replace(l,"")),o&&n.unshift(o),n=n.join("/"),!s&&n&&(n="/"+n),n},findBelongsTo:function(e,t,r,i){var a=t[i.key];if(!a)return this.ajax(r,"GET")},findMany:function(e,t,r,i){var a=r?r.join(","):null;return console.log("findMany",arguments),this.ajax(this.buildURL(t,a,i),"GET")},createRecord:function(e,t,r){var i=this._serializeData(e,t,r);return this.ajax(this.buildURL(t.typeKey),"POST",{data:i})},updateRecord:function(e,t,i){var a=this._serializeData(e,t,i),n=r(i,"id");return this.ajax(this.buildURL(t.typeKey,n,i),"PUT",{data:a})},_serializeData:function(e,t,r){var i=e.serializerFor(t.typeKey),a=r._createSnapshot(),n=Ember.String.pluralize(t.typeKey),s={};return s.data=i.serialize(a,{includeId:!0}),s.data.hasOwnProperty("type")||(s.data.type=n),s},_tryParseErrorResponse:function(e){try{return Ember.$.parseJSON(e)}catch(t){return"Something went wrong"}},ajaxError:function(e){var r,i=this._super(e);if(e&&"object"==typeof e){r=this._tryParseErrorResponse(e.responseText);var a={};return r&&"object"==typeof r&&void 0!==r.errors&&Ember.A(Ember.keys(r.errors)).forEach(function(e){a[Ember.String.camelize(e)]=r.errors[e]}),422===e.status?new DS.InvalidError(a):new t(e.status,r,e)}return i},pathForType:function(e){var t=Ember.String.decamelize(e);return Ember.String.pluralize(t).replace(/_/g,"-")}}),t.prototype=Ember.create(Error.prototype),t.constructor=t,DS.JsonApiAdapter.ServerError=t,e["default"]=DS.JsonApiAdapter}),define("json-api-serializer",["exports"],function(e){"use strict";function t(e,t,r){var i=r;return i&&(i={id:i,type:Ember.String.pluralize(t)}),i}function r(e,t,r,i){var a=r.hasMany(i).mapBy("id");return a&&(a={ids:a,type:Ember.String.pluralize(t)}),a}var i=Ember.get,a=Ember.isNone,n=/(^https?:\/\/.*?)(\/.*)/;DS.JsonApiSerializer=DS.RESTSerializer.extend({primaryRecordKey:"data",sideloadedRecordsKey:"included",relationshipKey:"self",relatedResourceKey:"related",keyForRelationship:function(e){return e},normalize:function(e,t,r){var i={};for(var a in t)if("links"!==a){var n=Ember.String.camelize(a);i[n]=t[a]}else i[a]=t[a];return this._super(e,i,r)},normalizePayload:function(e){if(e){var t=e[this.primaryRecordKey];return t&&(Ember.isArray(t)?this.extractArrayData(t,e):this.extractSingleData(t,e),delete e[this.primaryRecordKey]),e.meta&&(this.extractMeta(e.meta),delete e.meta),e.links&&(this.extractRelationships(e.links,e),delete t.links),e[this.sideloadedRecordsKey]&&(this.extractSideloaded(e[this.sideloadedRecordsKey]),delete e[this.sideloadedRecordsKey]),e}},extractSingleData:function(e,t){e.links&&this.extractRelationships(e.links,e),t[e.type]=e,delete e.type},extractArrayData:function(e,t){var r=e.length>0?e[0].type:null,i=this;e.forEach(function(e){e.links&&i.extractRelationships(e.links,e)}),t[r]=e},extractSideloaded:function(e){var t=i(this,"store"),r={};e.forEach(function(e){var t=e.type;delete e.type,r[t]||(r[t]=[]),r[t].push(e)}),this.pushPayload(t,r)},extractRelationships:function(e,t){var r,i,a,n,s,o,l;t.links={};for(r in e)i=e[r],r=Ember.String.camelize(r.split(".").pop()),i&&("string"==typeof i?(i.indexOf("/")>-1?(n=i,a=null):(n=null,a=i),s=null):(s=i[this.relationshipKey],n=i[this.relatedResourceKey]||s,a=i.id||i.ids),n&&(o=this.removeHost(n),t.links[r]=o,l=a&&o.indexOf("{")<0?r+"."+a:r,DS._routes[l]=o.replace(/^\//,"")),a&&(t[r]=a));return t.links},removeHost:function(e){return e.replace(n,"$2")},serializeIntoHash:function(e,t,r,i){var a=Ember.String.pluralize(t.typeKey),n=this.serialize(r,i);n.hasOwnProperty("type")||(n.type=a),e[t.typeKey]=n},serializeBelongsTo:function(e,r,n){var s=n.key,o=e.belongsTo(s),l=this.keyForRelationship(n.type.typeKey),u=this.keyForRelationship(s);a(o)||(r.links=r.links||{},r.links[u]=t(u,l,i(o,"id")))},serializeHasMany:function(e,t,i){var a=i.key,n=this.keyForRelationship(i.type.typeKey),s=this.keyForRelationship(a);"hasMany"===i.kind&&(t.links=t.links||{},t.links[s]=r(s,n,e,a))}}),e["default"]=DS.JsonApiSerializer});